{"ast":null,"code":"\"use client\";\n\nvar _jsxFileName = \"/Users/goutham/Desktop/temp/client/src/pages/Test.js\",\n  _s = $RefreshSig$();\nimport { useState, useEffect } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Page() {\n  _s();\n  const [data, setData] = useState(null);\n  const [todos, setTodos] = useState([]);\n  const [completedCount, setCompletedCount] = useState(null);\n  const [pendingCount, setPendingCount] = useState(null);\n\n  // Test endpoint\n  useEffect(() => {\n    fetch(\"http://127.0.0.1:5000/test\").then(res => res.json()).then(data => setData(data)).catch(err => console.error(\"Test endpoint error:\", err));\n  }, []);\n\n  // Fetch todos, then send them to Python to get completed count\n  useEffect(() => {\n    const loadTodosAndCount = async () => {\n      try {\n        // 1. Get todos from external API\n        const res = await fetch(\"https://jsonplaceholder.typicode.com/todos\");\n        const todosData = await res.json();\n        setTodos(todosData);\n\n        // 2. Send todos to your Flask backend\n        const countRes = await fetch(\"http://127.0.0.1:5000/todos/completed-count\", {\n          method: \"POST\",\n          headers: {\n            \"Content-Type\": \"application/json\"\n          },\n          body: JSON.stringify({\n            todos: todosData\n          })\n        });\n        const countData = await countRes.json();\n        setCompletedCount(countData.completed_count);\n        setPendingCount(countData.pending_count);\n      } catch (error) {\n        console.error(\"Error loading todos or count:\", error);\n      }\n    };\n    loadTodosAndCount();\n  }, []); // <-- IMPORTANT: empty array, so this runs only once\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: data ? data.message : \"Loading test endpoint...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: completedCount !== null ? /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Completed todos count: \", completedCount]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Calculating completed todos...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: pendingCount !== null ? /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Pending todos count: \", pendingCount]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Calculating pending todos...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 51,\n    columnNumber: 5\n  }, this);\n}\n_s(Page, \"t20od3Bgwv4c7ElpgHCjX3PiuUw=\");\n_c = Page;\nvar _c;\n$RefreshReg$(_c, \"Page\");","map":{"version":3,"names":["_jsxFileName","_s","$RefreshSig$","useState","useEffect","jsxDEV","_jsxDEV","Page","data","setData","todos","setTodos","completedCount","setCompletedCount","pendingCount","setPendingCount","fetch","then","res","json","catch","err","console","error","loadTodosAndCount","todosData","countRes","method","headers","body","JSON","stringify","countData","completed_count","pending_count","children","message","fileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/goutham/Desktop/temp/client/src/pages/Test.js"],"sourcesContent":["\"use client\";\nimport { useState, useEffect } from \"react\";\n\nexport default function Page() {\n  const [data, setData] = useState(null);\n  const [todos, setTodos] = useState([]);\n  const [completedCount, setCompletedCount] = useState(null);\n  const [pendingCount, setPendingCount] = useState(null);\n\n  // Test endpoint\n  useEffect(() => {\n    fetch(\"http://127.0.0.1:5000/test\")\n      .then((res) => res.json())\n      .then((data) => setData(data))\n      .catch((err) => console.error(\"Test endpoint error:\", err));\n  }, []);\n\n  // Fetch todos, then send them to Python to get completed count\n  useEffect(() => {\n    const loadTodosAndCount = async () => {\n      try {\n        // 1. Get todos from external API\n        const res = await fetch(\"https://jsonplaceholder.typicode.com/todos\");\n        const todosData = await res.json();\n        setTodos(todosData);\n\n        // 2. Send todos to your Flask backend\n        const countRes = await fetch(\n          \"http://127.0.0.1:5000/todos/completed-count\",\n          {\n            method: \"POST\",\n            headers: {\n              \"Content-Type\": \"application/json\",\n            },\n            body: JSON.stringify({ todos: todosData }),\n          }\n        );\n\n        const countData = await countRes.json();\n        setCompletedCount(countData.completed_count);\n        setPendingCount(countData.pending_count);\n      } catch (error) {\n        console.error(\"Error loading todos or count:\", error);\n      }\n    };\n\n    loadTodosAndCount();\n  }, []); // <-- IMPORTANT: empty array, so this runs only once\n\n  return (\n    <div>\n      <h2>{data ? data.message : \"Loading test endpoint...\"}</h2>\n\n      <div>\n        {completedCount !== null ? (\n          <p>Completed todos count: {completedCount}</p>\n        ) : (\n          <p>Calculating completed todos...</p>\n        )}\n      </div>\n\n      <div>\n        {pendingCount !== null ? (\n          <p>Pending todos count: {pendingCount}</p>\n        ) : (\n          <p>Calculating pending todos...</p>\n        )}\n      </div>\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}